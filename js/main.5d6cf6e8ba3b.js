!function(){"use strict";const e=[],t=document.getElementById("selectorMode"),n=document.querySelector(".names-list__list");function s(e,t){const s=document.createElement("li"),d=document.createElement("div"),c=document.createElement("a");c.innerHTML='<i class="bi bi-person-x p-1"></i>',c.title="Excluir",c.classList.add("names-list__link","text-danger","ps-2"),c.dataset.index=t,c.addEventListener("click",a),d.classList.add("names-list__item","d-flex","align-items-center","justify-content-between","py-2"),d.appendChild(document.createTextNode(e)),d.appendChild(c),s.appendChild(d),n.appendChild(s)}function d(e){const t=document.getElementById("prizeDraw");e?t.classList.remove("disabled"):t.classList.add("disabled")}function a(){e.splice(this.dataset.index,1),n.innerHTML="",i("clear"),d(c()<=e.length),e.length>0&&e.map(((e,t)=>{s(e,t)}))}function c(){return parseInt(document.getElementById("amount").value)}function r(e){return Math.floor(Math.random()*e)}function l(t,n){if(!n.includes(t))return t;const s=r(e.length);return n.includes(s)?l(s,n):s}function i(e,t=""){const n=document.querySelector(".result__box"),s=document.querySelector(".result__icon");document.querySelector(".result__text").innerHTML=t,"success"===e?(n.classList.remove("alert-danger","p-0"),n.classList.add("alert-success"),s.classList.remove("d-none")):"error"===e?(n.classList.remove("alert-success","p-0"),n.classList.add("alert-danger"),s.classList.add("d-none")):(n.classList.add("p-0"),n.classList.remove("alert-success","alert-danger"),s.classList.add("d-none"))}t.addEventListener("change",(()=>{const e=document.getElementById("selectorMode").checked;document.querySelector("html").dataset.bsTheme=e?"dark":"light"})),document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("amount"),n=document.getElementById("button-add"),a=document.getElementById("prizeDraw"),o=document.querySelector(".current-year"),u=document.getElementById("name"),m=document.querySelector(".invalid-feedback");function L(t,n=!1){const a=e.some((e=>e.toLowerCase()===t.toLowerCase()));if(n)return a;var r;a?m.classList.add("d-block"):(r=t,document.querySelector(".names-list").classList.remove("d-none"),e.push(r),d(c()<=e.length),s(r,e.length-1),u.value=""),u.focus()}u.addEventListener("keyup",(function(e){L(this.value.trim(),!0)?m.classList.add("d-block"):m.classList.remove("d-block"),"Enter"===e.key&&this.value.length>0&&(e.preventDefault(),L(this.value.trim()))})),n.addEventListener("click",(function(e){e.preventDefault(),L(u.value.trim())})),t.addEventListener("change",(function(){d(c()<=e.length)})),t.addEventListener("keyup",(function(){d(c()<=e.length)})),a.addEventListener("click",(function(){if(0===e.length)i("error","Digite pelo menos um nome.");else if(c()<=0||""===c())i("error","Digite uma quantidade de nomes para sortear válida.");else if(c()>e.length)i("error","A quantidade de nomes para sortear é maior do que a quantidade de nomes inseridos.");else{const t=[],n=r(e.length);let s="";if(1===c())t.push(n),s+=e[r(e.length)];else for(let d=0;d<c();d++){const a=l(n,t);t.push(a),s+=0===d?`${d+1} - ${e[a]}`:`<br /> ${d+1} - ${e[a]}`}i("success",s)}})),o.innerHTML=(new Date).getFullYear()}))}();